import{_ as A,a3 as J,h as $,y as N,g as T,D as n,o as r,b as d,w as c,F as y,m as s,n as q,r as G,M as S,E as z,c as b,t as F,a as U,J as H,a0 as Q}from"./framework.GQ5BFlRL.js";import{_ as X}from"./EnhancedElForm.vue_vue_type_style_index_0_scoped_6245017e_lang.wgXNkBJe.js";const Z={__name:"EnhancedElForm",props:{model:Object,schema:Array,labelWidth:String,canEditing:Boolean,isInline:{type:Boolean},enterSearch:Function,labelPosition:{type:String,default:"right",validator:a=>["right","left","top"].includes(a)},disabled:Boolean},emits:["update:model"],setup(a,{expose:B,emit:g}){const m=a,{labelWidth:D,canEditing:h,isInline:x,enterSearch:_,labelPosition:I,disabled:P}=m,u=J(new Set([])),k=$(!1),w=$(null),Y=l=>l.render?l.render(l.scope):"";N(()=>m.schema,l=>{if(l)for(let o=0;o<l.length;o++){const i=l[o],{prop:p,defaultValue:v=""}=i;m.model.hasOwnProperty(p)||(m.model[p]=v)}},{immediate:!0});const j=T(()=>h?m.schema.map(o=>{const{prop:i,type:p}=o;return p?u.has(i)?o:X.omit(o,"type"):o}):m.schema),M=()=>{k||_()},R=l=>{u.add(l)},K=l=>{l?u.delete(l):u.clear()},V=(l=!1)=>typeof l=="function"?l():l;return B({enhancedElFormRef:w,editingColumn:u,clearEditingColumn:K}),(l,o)=>{const i=n("el-option"),p=n("el-select"),v=n("el-radio"),L=n("el-radio-group"),O=n("el-date-picker"),W=n("el-form-item"),f=n("el-form");return r(),d(f,{ref_key:"enhancedElFormRef",ref:w,class:"enhanced-el-form",inline:s(x),model:a.model,"label-width":s(D),disabled:s(P),"label-position":s(I),onKeyup:o[0]||(o[0]=Q(e=>typeof s(_)=="function"?M():()=>{},["enter"])),onCompositionstart:o[1]||(o[1]=e=>k.value=!0),onCompositionend:o[2]||(o[2]=e=>k.value=!1)},{default:c(()=>[(r(!0),b(y,null,z(j.value,e=>(r(),d(W,{key:e.prop,rules:e.rules,label:e.label||"",prop:e.prop,class:q(`clazz-${e.prop} ${s(h)&&!e.type?"curosr-pointer":""}`),onClick:C=>s(h)&&R(e.prop)},{default:c(()=>{var C;return[e.type==="slot"?G(l.$slots,`form-${e.prop}`,{key:0,config:e,model:a.model},void 0,!0):typeof e.render=="function"?(r(),d(Y,{key:1,scope:a.model,render:e.render},null,8,["scope","render"])):e.type==="select"?(r(),d(p,S({key:2},e.attrs?e.attrs:{},{style:e.style,size:e.size?e.size:"large",modelValue:a.model[e.prop],"onUpdate:modelValue":t=>a.model[e.prop]=t,disabled:V(e.disabled),placeholder:e.placeholder,onChange:t=>e.change?e.change(t,a.model):()=>{}}),{default:c(()=>[(r(!0),b(y,null,z(e.props.options,(t,E)=>(r(),d(i,{key:E,value:typeof t=="object"?t.value:t,label:typeof t=="object"?t.label:t},null,8,["value","label"]))),128))]),_:2},1040,["style","size","modelValue","onUpdate:modelValue","disabled","placeholder","onChange"])):e.type==="radio"?(r(),d(L,{key:3,modelValue:a.model[e.prop],"onUpdate:modelValue":t=>a.model[e.prop]=t},{default:c(()=>[(r(!0),b(y,null,z(e.props.options,(t,E)=>(r(),d(v,{key:E,label:t.value},{default:c(()=>[U(F(t.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(C=e.type)!=null&&C.includes("date")?(r(),d(O,S({key:4,modelValue:a.model[e.prop],"onUpdate:modelValue":t=>a.model[e.prop]=t,type:e.type,"value-format":"YYYY-MM-DD",size:e.size?e.size:"large",placeholder:e.placeholder,disabled:V(e.disabled)},e.attrs),null,16,["modelValue","onUpdate:modelValue","type","size","placeholder","disabled"])):e.type?(r(),d(H(`el-${e.type}`),S({key:5,modelValue:a.model[e.prop],"onUpdate:modelValue":t=>a.model[e.prop]=t,disabled:V(e.disabled)},e.attrs),null,16,["modelValue","onUpdate:modelValue","disabled"])):(r(),b(y,{key:6},[U(F(a.model[e.prop]),1)],64))]}),_:2},1032,["rules","label","prop","class","onClick"]))),128))]),_:3},8,["inline","model","label-width","disabled","label-position"])}}},te=A(Z,[["__scopeId","data-v-6245017e"]]);export{te as E};
