import{d as W,a3 as J,h as w,y as N,g as O,D as s,o as a,b as r,w as i,F as c,m as p,n as T,r as q,M as v,E as C,c as b,t as $,a as S,J as A,a0 as G,_ as H}from"./framework.GQ5BFlRL.js";import{_ as Q}from"./EnhancedElForm.vue_vue_type_style_index_0_scoped_ac3a1d44_lang.wgXNkBJe.js";const X=W({__name:"EnhancedElForm",props:{model:{},schema:{},labelWidth:{},canEditing:{type:Boolean},isInline:{type:Boolean},enterSearch:{},labelPosition:{default:"right"},disabled:{type:Boolean}},setup(U,{expose:f}){const n=U,{labelWidth:F,canEditing:h,isInline:B,enterSearch:y,labelPosition:D,disabled:I}=n,m=J(new Set),_=w(!1),E=w(null),Y=l=>l.render?l.render(n.model):"";N(()=>n.schema,l=>{if(l)for(let t=0;t<l.length;t++){const u=l[t],{prop:d,defaultValue:k=""}=u;n.model.hasOwnProperty(d)||(n.model[d]=k)}},{immediate:!0});const z=O(()=>h?n.schema.map(t=>{const{prop:u,type:d}=t;return d?m.has(u)?t:Q.omit(t,"type"):t}):n.schema),M=()=>{_||y==null||y()},P=l=>{m.add(l)};return f({enhancedElFormRef:E,editingColumn:m,clearEditingColumn:l=>{l?m.delete(l):m.clear()}}),(l,t)=>{const u=s("el-option"),d=s("el-select"),k=s("el-radio"),R=s("el-radio-group"),j=s("el-date-picker"),K=s("el-form-item"),L=s("el-form");return a(),r(L,{ref_key:"enhancedElFormRef",ref:E,class:"enhanced-el-form",inline:p(B),model:l.model,"label-width":p(F),disabled:p(I),"label-position":p(D),onKeyup:t[0]||(t[0]=G(e=>typeof p(y)=="function"?M():()=>{},["enter"])),onCompositionstart:t[1]||(t[1]=e=>_.value=!0),onCompositionend:t[2]||(t[2]=e=>_.value=!1)},{default:i(()=>[(a(!0),b(c,null,C(z.value,e=>(a(),r(K,{key:e.prop,rules:e.rules,label:e.label||"",prop:e.prop,class:T(`clazz-${e.prop} ${p(h)&&!e.type?"curosr-pointer":""}`),onClick:o=>p(h)&&P(e.prop)},{default:i(()=>[e.type==="slot"?q(l.$slots,`form-${e.prop}`,{key:0,config:e,model:l.model},void 0,!0):typeof e.render=="function"?(a(),r(Y,{key:1,render:e.render},null,8,["render"])):e.type==="select"?(a(),r(d,v({key:2},e.attrs?e.attrs:{},{modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,onChange:o=>e.change?e.change(o,l.model):()=>{}}),{default:i(()=>[(a(!0),b(c,null,C(e.props.options,(o,V)=>(a(),r(u,{key:V,value:typeof o=="object"?o.value:o,label:typeof o=="object"?o.label:o},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","onChange"])):e.type==="radio"?(a(),r(R,{key:3,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},{default:i(()=>[(a(!0),b(c,null,C(e.props.options,(o,V)=>(a(),r(k,{key:V,label:o.value},{default:i(()=>[S($(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="datepicker"?(a(),r(j,v({key:4,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,"value-format":"YYYY-MM-DD"},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):e.type?(a(),r(A(`el-${e.type}`),v({key:5,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):(a(),b(c,{key:6},[S($(l.model[e.prop]),1)],64))]),_:2},1032,["rules","label","prop","class","onClick"]))),128))]),_:3},8,["inline","model","label-width","disabled","label-position"])}}}),ee=H(X,[["__scopeId","data-v-ac3a1d44"]]);export{ee as E};
