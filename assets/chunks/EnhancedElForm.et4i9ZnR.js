import{d as W,a3 as J,h as $,y as N,g as O,D as u,o as t,b as r,w as y,F as c,m as s,n as q,r as A,M as C,E as F,c as v,t as S,a as U,J as G,a0 as H,_ as Q}from"./framework.eiFApvMk.js";import{_ as X}from"./EnhancedElForm.vue_vue_type_style_index_0_scoped_73b8f0cf_lang.bNtpCYKA.js";import{E as Z}from"./index.cs2nSILU.js";const x=W({__name:"EnhancedElForm",props:{model:{},schema:{},labelWidth:{default:""},canEditing:{type:Boolean},isInline:{type:Boolean},enterSearch:{},labelPosition:{default:"right"},disabled:{type:Boolean},alwaysEditableColumns:{default:()=>[]}},setup(f,{expose:B}){const n=f,{labelWidth:D,canEditing:h,isInline:T,enterSearch:b,labelPosition:Y,disabled:z,alwaysEditableColumns:w}=n,d=J(new Set),E=$(!1),p=$(),I=l=>l.render?l.render(n.model):"";w.forEach(l=>d.add(l)),N(()=>n.schema,l=>{if(l)for(let a=0;a<l.length;a++){const i=l[a],{prop:m,defaultValue:V=""}=i;n.model.hasOwnProperty(m)||(n.model[m]=V)}},{immediate:!0});const M=O(()=>h?n.schema.map(a=>{const{prop:i,type:m}=a;return m&&!d.has(i)&&a.type!=="slot"?X.omit(a,"type"):a}):n.schema),P=()=>{E||b==null||b()},R=l=>{d.add(l)};return B({editingColumn:d,clearEditingColumn:l=>{l?d.delete(l):(d.clear(),w.forEach(a=>d.add(a)))},validate:(...l)=>{var a;return(a=p.value)==null?void 0:a.validate(...l)},resetFields:(...l)=>{var a;return(a=p.value)==null?void 0:a.resetFields(...l)},validateField:(...l)=>{var a;return(a=p.value)==null?void 0:a.validateField(...l)},scrollToField:l=>{var a;return(a=p.value)==null?void 0:a.scrollToField(l)},clearValidate:(...l)=>{var a;return(a=p.value)==null?void 0:a.clearValidate(...l)}}),(l,a)=>{const i=u("el-option"),m=u("el-select"),V=u("el-radio"),j=u("el-radio-group"),K=u("el-date-picker"),L=u("el-form-item");return t(),r(s(Z),{ref_key:"enhancedElFormRef",ref:p,class:"enhanced-el-form",inline:s(T),model:l.model,"label-width":s(D),disabled:s(z),"label-position":s(Y),onKeyup:a[0]||(a[0]=H(e=>typeof s(b)=="function"?P():()=>{},["enter"])),onCompositionstart:a[1]||(a[1]=e=>E.value=!0),onCompositionend:a[2]||(a[2]=e=>E.value=!1)},{default:y(()=>[(t(!0),v(c,null,F(M.value,e=>(t(),r(L,{key:e.prop,rules:e.rules,label:e.label||"",prop:e.prop,class:q(`clazz-${e.prop} ${s(h)&&!e.type?"curosr-pointer":""}`),onClick:_=>s(h)&&R(e.prop)},{default:y(()=>{var _;return[e.type==="slot"?A(l.$slots,`form-${e.prop}`,{key:0,config:e,isEditing:d.has(e.prop)},void 0,!0):typeof e.render=="function"?(t(),r(I,{key:1,render:e.render},null,8,["render"])):e.type==="select"?(t(),r(m,C({key:2},e.attrs?e.attrs:{},{modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,onChange:o=>e.change?e.change(o,l.model):()=>{}}),{default:y(()=>[(t(!0),v(c,null,F(e.options,(o,k)=>(t(),r(i,{key:k,value:typeof o=="object"?o.value:o,label:typeof o=="object"?o.label:o},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","onChange"])):e.type==="radio"?(t(),r(j,{key:3,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},{default:y(()=>[(t(!0),v(c,null,F(e.options,(o,k)=>(t(),r(V,{key:k,label:o.value},{default:y(()=>[U(S(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="datepicker"?(t(),r(K,C({key:4,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,"value-format":"YYYY-MM-DD"},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):e.type?(t(),r(G(`el-${e.type}`),C({key:5,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):(t(),v(c,{key:6},[U(S(((_=e.formater)==null?void 0:_.call(e,l.model[e.prop]))||l.model[e.prop]),1)],64))]}),_:2},1032,["rules","label","prop","class","onClick"]))),128))]),_:3},8,["inline","model","label-width","disabled","label-position"])}}}),ne=Q(x,[["__scopeId","data-v-73b8f0cf"]]);export{ne as E};
