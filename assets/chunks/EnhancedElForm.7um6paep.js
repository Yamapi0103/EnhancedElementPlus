import{d as J,a3 as N,h as $,y as O,g as q,D as u,o as t,b as r,w as y,F as v,m as n,n as A,r as G,M as F,E as C,c as b,t as S,a as U,J as H,a0 as Q,_ as X}from"./framework.eiFApvMk.js";import{_ as Z}from"./EnhancedElForm.vue_vue_type_style_index_0_scoped_ea7d9c73_lang.bNtpCYKA.js";import{E as x}from"./index.cs2nSILU.js";const g=J({__name:"EnhancedElForm",props:{model:{},schema:{},labelWidth:{default:""},canEditing:{type:Boolean},isInline:{type:Boolean},enterSearch:{},labelPosition:{default:"right"},disabled:{type:Boolean},alwaysEditableColumns:{default:()=>[]}},setup(B,{expose:f}){const p=B,{labelWidth:D,canEditing:h,isInline:I,enterSearch:c,labelPosition:T,disabled:Y,alwaysEditableColumns:w}=p,d=N(new Set),V=$(!1),s=$(),z=l=>l.render?l.render(p.model):"";w.forEach(l=>d.add(l)),O(()=>p.schema,l=>{if(l)for(let a=0;a<l.length;a++){const i=l[a],{prop:m,defaultValue:k=""}=i;p.model.hasOwnProperty(m)||(p.model[m]=k)}},{immediate:!0});const M=q(()=>h?p.schema.map(a=>{const{prop:i,type:m}=a;return m&&!d.has(i)&&a.type!=="slot"?Z.omit(a,"type"):a}):p.schema),P=()=>{V||c==null||c()},R=l=>{d.add(l)},j=l=>{l?d.delete(l):(d.clear(),w.forEach(a=>d.add(a)))};return s.value,f({enhancedElFormRef:s,editingColumn:d,clearEditingColumn:j,validate:(...l)=>{var a;return(a=s.value)==null?void 0:a.validate(...l)},resetFields:(...l)=>{var a;return(a=s.value)==null?void 0:a.resetFields(...l)},validateField:(...l)=>{var a;return(a=s.value)==null?void 0:a.validateField(...l)},scrollToField:l=>{var a;return(a=s.value)==null?void 0:a.scrollToField(l)},clearValidate:(...l)=>{var a;return(a=s.value)==null?void 0:a.clearValidate(...l)}}),(l,a)=>{const i=u("el-option"),m=u("el-select"),k=u("el-radio"),K=u("el-radio-group"),L=u("el-date-picker"),W=u("el-form-item");return t(),r(n(x),{ref_key:"enhancedElFormRef",ref:s,class:"enhanced-el-form",inline:n(I),model:l.model,"label-width":n(D),disabled:n(Y),"label-position":n(T),onKeyup:a[0]||(a[0]=Q(e=>typeof n(c)=="function"?P():()=>{},["enter"])),onCompositionstart:a[1]||(a[1]=e=>V.value=!0),onCompositionend:a[2]||(a[2]=e=>V.value=!1)},{default:y(()=>[(t(!0),b(v,null,C(M.value,e=>(t(),r(W,{key:e.prop,rules:e.rules,label:e.label||"",prop:e.prop,class:A(`clazz-${e.prop} ${n(h)&&!e.type?"curosr-pointer":""}`),onClick:_=>n(h)&&R(e.prop)},{default:y(()=>{var _;return[e.type==="slot"?G(l.$slots,`form-${e.prop}`,{key:0,config:e,isEditing:d.has(e.prop)},void 0,!0):typeof e.render=="function"?(t(),r(z,{key:1,render:e.render},null,8,["render"])):e.type==="select"?(t(),r(m,F({key:2},e.attrs?e.attrs:{},{modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,onChange:o=>e.change?e.change(o,l.model):()=>{}}),{default:y(()=>[(t(!0),b(v,null,C(e.props.options,(o,E)=>(t(),r(i,{key:E,value:typeof o=="object"?o.value:o,label:typeof o=="object"?o.label:o},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","onChange"])):e.type==="radio"?(t(),r(K,{key:3,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},{default:y(()=>[(t(!0),b(v,null,C(e.props.options,(o,E)=>(t(),r(k,{key:E,label:o.value},{default:y(()=>[U(S(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="datepicker"?(t(),r(L,F({key:4,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,"value-format":"YYYY-MM-DD"},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):e.type?(t(),r(H(`el-${e.type}`),F({key:5,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):(t(),b(v,{key:6},[U(S(((_=e.formater)==null?void 0:_.call(e,l.model[e.prop]))||l.model[e.prop]),1)],64))]}),_:2},1032,["rules","label","prop","class","onClick"]))),128))]),_:3},8,["inline","model","label-width","disabled","label-position"])}}}),ne=X(g,[["__scopeId","data-v-ea7d9c73"]]);export{ne as E};
