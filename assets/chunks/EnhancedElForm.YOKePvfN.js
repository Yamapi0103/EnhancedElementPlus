import{d as j,a3 as L,h as C,y as W,g as J,D as m,o as t,b as r,w as i,F as y,m as n,n as N,r as O,M as k,E as V,c,t as w,a as F,J as T,a0 as q,_ as A}from"./framework.eiFApvMk.js";import{_ as G}from"./EnhancedElForm.vue_vue_type_style_index_0_scoped_bea861e8_lang.bNtpCYKA.js";import{E as H}from"./index.cs2nSILU.js";const Q=j({__name:"EnhancedElForm",props:{model:{},schema:{},labelWidth:{},canEditing:{type:Boolean},isInline:{type:Boolean},enterSearch:{type:Function,default:()=>{}},labelPosition:{default:"right"},disabled:{type:Boolean}},setup(S,{expose:U}){const p=S,{labelWidth:$,canEditing:h,isInline:B,enterSearch:D,labelPosition:I,disabled:Y}=p,s=L(new Set),v=C(!1),E=C(null),z=l=>l.render?l.render(p.model):"";W(()=>p.schema,l=>{if(l)for(let a=0;a<l.length;a++){const u=l[a],{prop:d,defaultValue:b=""}=u;p.model.hasOwnProperty(d)||(p.model[d]=b)}},{immediate:!0});const K=J(()=>h?p.schema.map(a=>{const{prop:u,type:d}=a;return d&&!s.has(u)&&a.type!=="slot"?G.omit(a,"type"):a}):p.schema),M=l=>{s.add(l)};return U({enhancedElFormRef:E,editingColumn:s,clearEditingColumn:l=>{l?s.delete(l):s.clear()}}),(l,a)=>{const u=m("el-option"),d=m("el-select"),b=m("el-radio"),P=m("el-radio-group"),R=m("el-date-picker"),f=m("el-form-item");return t(),r(n(H),{ref_key:"enhancedElFormRef",ref:E,class:"enhanced-el-form",inline:n(B),model:l.model,"label-width":n($),disabled:n(Y),"label-position":n(I),onKeyup:q(n(D),["enter"]),onCompositionstart:a[0]||(a[0]=e=>v.value=!0),onCompositionend:a[1]||(a[1]=e=>v.value=!1)},{default:i(()=>[(t(!0),c(y,null,V(K.value,e=>(t(),r(f,{key:e.prop,rules:e.rules,label:e.label||"",prop:e.prop,class:N(`clazz-${e.prop} ${n(h)&&!e.type?"curosr-pointer":""}`),onClick:o=>n(h)&&M(e.prop)},{default:i(()=>[e.type==="slot"?O(l.$slots,`form-${e.prop}`,{key:0,config:e,isEditing:s.has(e.prop)},void 0,!0):typeof e.render=="function"?(t(),r(z,{key:1,render:e.render},null,8,["render"])):e.type==="select"?(t(),r(d,k({key:2},e.attrs?e.attrs:{},{modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,onChange:o=>e.change?e.change(o,l.model):()=>{}}),{default:i(()=>[(t(!0),c(y,null,V(e.props.options,(o,_)=>(t(),r(u,{key:_,value:typeof o=="object"?o.value:o,label:typeof o=="object"?o.label:o},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","onChange"])):e.type==="radio"?(t(),r(P,{key:3,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},{default:i(()=>[(t(!0),c(y,null,V(e.props.options,(o,_)=>(t(),r(b,{key:_,label:o.value},{default:i(()=>[F(w(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="datepicker"?(t(),r(R,k({key:4,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,"value-format":"YYYY-MM-DD"},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):e.type?(t(),r(T(`el-${e.type}`),k({key:5,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs),null,16,["modelValue","onUpdate:modelValue"])):(t(),c(y,{key:6},[F(w(l.model[e.prop]),1)],64))]),_:2},1032,["rules","label","prop","class","onClick"]))),128))]),_:3},8,["inline","model","label-width","disabled","label-position","onKeyup"])}}}),ee=A(Q,[["__scopeId","data-v-bea861e8"]]);export{ee as E};
